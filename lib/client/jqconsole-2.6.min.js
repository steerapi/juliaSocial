(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=function(a,b){return function(){return a.apply(b,arguments)}},I=Array.prototype.slice;a=jQuery,D=0,E=1,F=2,u=13,A=9,r=46,q=8,w=37,z=39,B=38,s=40,v=36,t=35,y=33,x=34,g="jqconsole-",c=""+g+"cursor",d=""+g+"header",h=""+g+"prompt",f=""+g+"old-prompt",e=""+g+"input",b=""+g+"blurred",o="keypress",n="<span/>",l="<div/>",m=":empty",C="\n",k=">>> ",j="... ",i=2,G=function(a,b){return'<span class="'+a+'">'+(b||"")+"</span>"},p=function(){function p(b,c,e,f){this.container=b,this._HideComposition=H(this._HideComposition,this),this._ShowComposition=H(this._ShowComposition,this),this._UpdateComposition=H(this._UpdateComposition,this),this._EndComposition=H(this._EndComposition,this),this._StartComposition=H(this._StartComposition,this),this._CheckComposition=H(this._CheckComposition,this),this._ProcessMatch=H(this._ProcessMatch,this),this._HandleKey=H(this._HandleKey,this),this._HandleChar=H(this._HandleChar,this),this.isMobile=!!navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),this.isIos=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),this.isAndroid=!!navigator.userAgent.match(/Android/i),this.$window=a(window),this.header=c||"",this.prompt_label_main=e||k,this.prompt_label_continue=" \n"+(f||j),this.indent_width=i,this.state=E,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.history=[],this.history_index=0,this.history_new="",this.history_active=!1,this.shortcuts={},this.$console=a('<pre class="jqconsole"/>').appendTo(this.container),this.$console.css({position:"absolute",top:0,bottom:0,right:0,left:0,margin:0,overflow:"auto"}),this.$console_focused=!0,this.$input_container=a(l).appendTo(this.container),this.$input_container.css({position:"relative",width:1,height:0,overflow:"hidden"}),this.$input_source=a("<textarea/>"),this.$input_source.attr("wrap","off").css({position:"absolute",width:2}),this.$input_source.appendTo(this.$input_container),this.$composition=a(l),this.$composition.addClass(""+g+"composition"),this.$composition.css({display:"inline",position:"relative"}),this.matchings={openings:{},closings:{},clss:[]},this._InitPrompt(),this._SetupEvents(),this.Write(this.header,d),a(this.container).data("jqconsole",this)}return p.prototype.ResetHistory=function(){return this.history=[],this.history_index=0,this.history_current=""},p.prototype.ResetShortcuts=function(){return this.shortcuts={}},p.prototype.ResetMatchings=function(){return this.matchings={openings:{},closings:{},clss:[]}},p.prototype.Reset=function(){this.state!==E&&this.ClearPromptText(!0),this.state=E,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.ResetHistory(),this.ResetShortcuts(),this.ResetMatchings(),this.$prompt.detach(),this.$input_container.detach(),this.$console.html(""),this.$prompt.appendTo(this.$console),this.$input_container.appendTo(this.container),this.Write(this.header,d)},p.prototype._CheckKeyCode=function(a){isNaN(a)?a=a.charCodeAt(0):a=parseInt(a,10);if(0<a&&a<256&&!isNaN(a))return a;throw new Error("Key code must be a number between 0 and 256 exclusive.")},p.prototype._LetterCaseHelper=function(a,b){b(a),65<=a&&a<=90&&b(a+32);if(97<=a&&a<=122)return b(a-32)},p.prototype.RegisterShortcut=function(a,b){var c,d=this;a=this._CheckKeyCode(a);if(!b instanceof Function)throw new Error("Callback must be a function, not "+b+".");c=function(a){return a in d.shortcuts||(d.shortcuts[a]=[]),d.shortcuts[a].push(b)},this._LetterCaseHelper(a,c)},p.prototype.UnRegisterShortcut=function(a,b){var c,d=this;a=this._CheckKeyCode(a),c=function(a){if(a in d.shortcuts)return b?d.shortcuts[a].splice(d.shortcuts[a].indexOf(b),1):delete d.shortcuts[a]},this._LetterCaseHelper(a,c)},p.prototype.GetColumn=function(){var a;return this.$prompt_cursor.text(""),a=this.$console.text().split(C),this.$prompt_cursor.html("&nbsp;"),a[a.length-1].length},p.prototype.GetLine=function(){return this.$console.text().split(C).length-1},p.prototype.ClearPromptText=function(a){if(this.state===E)throw new Error("ClearPromptText() is not allowed in output state.");this.$prompt_before.html(""),this.$prompt_after.html(""),this.$prompt_label.text(a?"":this._SelectPromptLabel(!1)),this.$prompt_left.text(""),this.$prompt_right.text("")},p.prototype.GetPromptText=function(b){var c,d,e,f,g;if(this.state===E)throw new Error("GetPromptText() is not allowed in output state.");return b?(this.$prompt_cursor.text(""),g=this.$prompt.text(),this.$prompt_cursor.html("&nbsp;"),g):(f=function(b){var c;return c=[],b.children().each(function(){return c.push(a(this).children().last().text())}),c.join(C)},d=f(this.$prompt_before),d&&(d+=C),e=this.$prompt_left.text()+this.$prompt_right.text(),c=f(this.$prompt_after),c&&(c=C+c),d+e+c)},p.prototype.SetPromptText=function(a){if(this.state===E)throw new Error("SetPromptText() is not allowed in output state.");this.ClearPromptText(!1),this._AppendPromptText(a),this._ScrollToEnd()},p.prototype.Write=function(b,c,d){var e;d==null&&(d=!0),e=a(n)[d?"text":"html"](b),c!=null&&e.addClass(c),e.insertBefore(this.$prompt),this._ScrollToEnd(),this.$prompt_cursor.detach().insertAfter(this.$prompt_left)},p.prototype.Input=function(a){var b,c,d,f=this;if(this.state===F)c=this.input_callback,d=this.multiline_callback,b=this.history_active,this.AbortPrompt(),this.input_queue.unshift(function(){return f.Prompt(b,c,d)});else if(this.state!==E){this.input_queue.push(function(){return f.Input(a)});return}this.history_active=!1,this.input_callback=a,this.multiline_callback=null,this.state=D,this.$prompt.attr("class",e),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()},p.prototype.Prompt=function(a,b,c,d){var e=this;if(this.state!==E){this.input_queue.push(function(){return e.Prompt(a,b,c)});return}this.history_active=a,this.input_callback=b,this.multiline_callback=c,this.async_multiline=d,this.state=F,this.$prompt.attr("class",h),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()},p.prototype.AbortPrompt=function(){if(this.state!==F)throw new Error("Cannot abort prompt when not in prompt state.");this.Write(this.GetPromptText(!0)+C,f),this.ClearPromptText(!0),this.state=E,this.input_callback=this.multiline_callback=null,this._CheckInputQueue()},p.prototype.Focus=function(){this.IsDisabled()||this.$input_source.focus()},p.prototype.SetIndentWidth=function(a){return this.indent_width=a},p.prototype.GetIndentWidth=function(){return this.indent_width},p.prototype.RegisterMatching=function(a,b,c){var d;return d={opening_char:a,closing_char:b,cls:c},this.matchings.clss.push(c),this.matchings.openings[a]=d,this.matchings.closings[b]=d},p.prototype.UnRegisterMatching=function(a,b){var c;return c=this.matchings.openings[a].cls,delete this.matchings.openings[a],delete this.matchings.closings[b],this.matchings.clss.splice(this.matchings.clss.indexOf(c),1)},p.prototype.Dump=function(){var b,c;return b=this.$console.find("."+d).nextUntil("."+h),function(){var d,e,g;g=[];for(d=0,e=b.length;d<e;d++)c=b[d],a(c).is("."+f)?g.push(a(c).text().replace(/^\s+/,">>> ")):g.push(a(c).text());return g}().join(" ")},p.prototype.GetState=function(){return this.state===D?"input":this.state===E?"output":"prompt"},p.prototype.Disable=function(){return this.$input_source.attr("disabled",!0),this.$input_source.blur()},p.prototype.Enable=function(){return this.$input_source.attr("disabled",!1)},p.prototype.IsDisabled=function(){return Boolean(this.$input_source.attr("disabled"))},p.prototype.MoveToStart=function(a){this._MoveTo(a,!0)},p.prototype.MoveToEnd=function(a){this._MoveTo(a,!1)},p.prototype._CheckInputQueue=function(){if(this.input_queue.length)return this.input_queue.shift()()},p.prototype._InitPrompt=function(){this.$prompt=a(G(e)).appendTo(this.$console),this.$prompt_before=a(n).appendTo(this.$prompt),this.$prompt_current=a(n).appendTo(this.$prompt),this.$prompt_after=a(n).appendTo(this.$prompt),this.$prompt_label=a(n).appendTo(this.$prompt_current),this.$prompt_left=a(n).appendTo(this.$prompt_current),this.$prompt_right=a(n).appendTo(this.$prompt_current),this.$prompt_right.css({position:"relative"}),this.$prompt_cursor=a(G(c,"&nbsp;")),this.$prompt_cursor.insertBefore(this.$prompt_right),this.$prompt_cursor.css({color:"transparent",display:"inline",zIndex:0});if(!this.isMobile)return this.$prompt_cursor.css("position","absolute")},p.prototype._SetupEvents=function(){var c,d,e,f=this;this.isMobile?this.$console.click(function(a){return a.preventDefault(),f.Focus()}):this.$console.mouseup(function(a){var b;return b=function(){if(!window.getSelection().toString())return a.preventDefault(),f.Focus()},setTimeout(b,0)}),this.$input_source.focus(function(){var a,c;return f.$console_focused=!0,f.$console.removeClass(b),c=function(){if(f.$console_focused)return f.$console.removeClass(b)},setTimeout(c,100),a=function(){if(f.isIos&&f.$console_focused)return f.$input_source.hide()},setTimeout(a,500)}),this.$input_source.blur(function(){var a;return f.$console_focused=!1,f.isIos&&f.$input_source.show(),a=function(){if(!f.$console_focused)return f.$console.addClass(b)},setTimeout(a,100)}),e=a.browser.opera?"input":"paste",this.$input_source.bind(e,function(){var a;return a=function(){if(f.in_composition)return;return f._AppendPromptText(f.$input_source.val()),f.$input_source.val(""),f.Focus()},setTimeout(a,0)}),this.$input_source.keypress(this._HandleChar),d=a.browser.mozilla||a.browser.opera?o:"keydown",this.$input_source[d](this._HandleKey),this.$input_source.keydown(this._CheckComposition),a.browser.mozilla!=null&&(this.$input_source.bind("compositionstart",this._StartComposition),this.$input_source.bind("compositionend",this._EndCommposition),this.$input_source.bind("text",this._UpdateComposition)),a.browser.opera!=null&&(c=function(){if(f.in_composition)return;if(f.$input_source.val().length)return f._StartComposition()},setInterval(c,200));if(this.isMobile)return this.$console.bind("touchend",function(){return f.$console[0].ontouchmove=null}),this.$console.bind("touchstart",function(a){var b;return b={distanceX:null,distanceY:null},f.$console[0].ontouchmove=function(a){var c,d,e,g,h;return a.touches.length!==2?!0:(g=Math.abs(a.touches[0].pageX-a.touches[1].pageX),h=Math.abs(a.touches[0].pageX-a.touches[1].pageY),b.distanceX&&b.distanceY?(d=Math.abs(g-b.distanceX),e=Math.abs(h-b.distanceY),c=d>e?g>b.distanceX:h>b.distanceY,c?f._HistoryPrevious():f._HistoryNext(),f.$console[0].ontouchmove=null):(b.distanceX=g,b.distanceY=h))}})},p.prototype._HandleChar=function(b){var c;if(this.state===E||b.metaKey||b.ctrlKey)return!0;c=b.which;if(c===8||c===9||c===13)return!1;if(a.browser.mozilla)if(b.keyCode||b.altKey)return!0;return a.browser.opera&&b.altKey?!0:b.metaKey||b.ctrlKey?!1:(this.$prompt_left.text(this.$prompt_left.text()+String.fromCharCode(c)),this._ScrollToEnd(),!1)},p.prototype._HandleKey=function(b){var c;if(this.state===E)return!0;c=b.keyCode||b.which,setTimeout(a.proxy(this._CheckMatchings,this),0);if(b.altKey||b.metaKey&&!b.ctrlKey)return!0;if(b.ctrlKey)return this._HandleCtrlShortcut(c);if(b.shiftKey){switch(c){case u:this._HandleEnter(!0);break;case A:this._Unindent();break;case B:this._MoveUp();break;case s:this._MoveDown();break;case y:this._ScrollUp();break;case x:this._ScrollDown();break;default:return!0}return!1}switch(c){case u:this._HandleEnter(!1);break;case A:this._Indent();break;case r:this._Delete(!1);break;case q:this._Backspace(!1);break;case w:this._MoveLeft(!1);break;case z:this._MoveRight(!1);break;case B:this._HistoryPrevious();break;case s:this._HistoryNext();break;case v:this.MoveToStart(!1);break;case t:this.MoveToEnd(!1);break;case y:this._ScrollUp();break;case x:this._ScrollDown();break;default:return!0}return!1},p.prototype._HandleCtrlShortcut=function(a){var b,c,d,e;switch(a){case r:this._Delete(!0);break;case q:this._Backspace(!0);break;case w:this._MoveLeft(!0);break;case z:this._MoveRight(!0);break;case B:this._MoveUp();break;case s:this._MoveDown();break;case t:this.MoveToEnd(!0);break;case v:this.MoveToStart(!0);break;default:if(a in this.shortcuts){e=this.shortcuts[a];for(c=0,d=e.length;c<d;c++)b=e[c],b.call(this);return!1}return!0}return!1},p.prototype._HandleEnter=function(a){var b,c,d=this;return a?this._InsertNewLine(!0):(c=this.GetPromptText(),b=function(a){var b,e,f,h,i;if(a!==!1){d.MoveToEnd(!0),d._InsertNewLine(!0),i=[];for(f=0,h=Math.abs(a);0<=h?f<h:f>h;0<=h?f++:f--)a>0?i.push(d._Indent()):i.push(d._Unindent());return i}return e=d.state===D?"input":"prompt",d.Write(d.GetPromptText(!0)+C,""+g+"old-"+e),d.ClearPromptText(!0),d.history_active&&((!d.history.length||d.history[d.history.length-1]!==c)&&d.history.push(c),d.history_index=d.history.length),d.state=E,b=d.input_callback,d.input_callback=null,b&&b(c),d._CheckInputQueue()},this.multiline_callback?this.async_multiline?this.multiline_callback(c,b):b(this.multiline_callback(c)):b(!1))},p.prototype._GetDirectionals=function(b){var c,d,e,f,g,h,i,j;return f=b?this.$prompt_left:this.$prompt_right,c=b?this.$prompt_right:this.$prompt_left,e=b?this.$prompt_before:this.$prompt_after,d=b?this.$prompt_after:this.$prompt_before,h=b?a.proxy(this.MoveToStart,this):a.proxy(this.MoveToEnd,this),g=b?a.proxy(this._MoveLeft,this):a.proxy(this._MoveRight,this),j=b?"last":"first",i=b?"prependTo":"appendTo",{$prompt_which:f,$prompt_opposite:c,$prompt_relative:e,$prompt_rel_opposite:d,MoveToLimit:h,MoveDirection:g,which_end:j,where_append:i}},p.prototype._VerticalMove=function(a){var b,c,d,e,f,g,h,i;i=this._GetDirectionals(a),d=i.$prompt_which,b=i.$prompt_opposite,c=i.$prompt_relative,f=i.MoveToLimit,e=i.MoveDirection;if(c.is(m))return;return g=this.$prompt_left.text().length,f(),e(),h=d.text(),b.text(a?h.slice(g):h.slice(0,g)),d.text(a?h.slice(0,g):h.slice(g))},p.prototype._MoveUp=function(){return this._VerticalMove(!0)},p.prototype._MoveDown=function(){return this._VerticalMove()},p.prototype._HorizontalMove=function(b,c){var d,e,f,g,h,i,j,k,l,o,p,q,r,s;s=this._GetDirectionals(c),h=s.$prompt_which,e=s.$prompt_opposite,g=s.$prompt_relative,f=s.$prompt_rel_opposite,q=s.which_end,p=s.where_append,k=c?/\w*\W*$/:/^\w*\W*/,l=h.text();if(l){if(b){r=l.match(k);if(!r)return;return r=r[0],o=e.text(),e.text(c?r+o:o+r),j=r.length,h.text(c?l.slice(0,-j):l.slice(j))}return o=e.text(),e.text(c?l.slice(-1)+o:o+l[0]),h.text(c?l.slice(0,-1):l.slice(1))}if(!g.is(m))return i=a(n)[p](f),i.append(a(n).text(this.$prompt_label.text())),i.append(a(n).text(e.text())),d=g.children()[q]().detach(),this.$prompt_label.text(d.children().first().text()),h.text(d.children().last().text()),e.text("")},p.prototype._MoveLeft=function(a){return this._HorizontalMove(a,!0)},p.prototype._MoveRight=function(a){return this._HorizontalMove(a)},p.prototype._MoveTo=function(a,b){var c,d,e,f,g,h,i;h=this._GetDirectionals(b),e=h.$prompt_which,c=h.$prompt_opposite,d=h.$prompt_relative,g=h.MoveToLimit,f=h.MoveDirection;if(a){i=[];while(!d.is(m)||e.text()!=="")g(!1),i.push(f(!1));return i}return c.text(this.$prompt_left.text()+this.$prompt_right.text()),e.text("")},p.prototype._Delete=function(a){var b,c,d;c=this.$prompt_right.text();if(c){if(a){d=c.match(/^\w*\W*/);if(!d)return;return d=d[0],this.$prompt_right.text(c.slice(d.length))}return this.$prompt_right.text(c.slice(1))}if(!this.$prompt_after.is(m))return b=this.$prompt_after.children().first().detach(),this.$prompt_right.text(b.children().last().text())},p.prototype._Backspace=function(b){var c,d,e;setTimeout(a.proxy(this._ScrollToEnd,this),0),d=this.$prompt_left.text();if(d){if(b){e=d.match(/\w*\W*$/);if(!e)return;return e=e[0],this.$prompt_left.text(d.slice(0,-e.length))}return this.$prompt_left.text(d.slice(0,-1))}if(!this.$prompt_before.is(m))return c=this.$prompt_before.children().last().detach(),this.$prompt_label.text(c.children().first().text()),this.$prompt_left.text(c.children().last().text())},p.prototype._Indent=function(){var a;return this.$prompt_left.prepend(function(){var b,c;c=[];for(a=1,b=this.indent_width;1<=b?a<=b:a>=b;1<=b?a++:a--)c.push(" ");return c}.call(this).join(""))},p.prototype._Unindent=function(){var a,b,c,d;a=this.$prompt_left.text()+this.$prompt_right.text(),d=[];for(b=1,c=this.indent_width;1<=c?b<=c:b>=c;1<=c?b++:b--){if(!/^ /.test(a))break;this.$prompt_left.text()?this.$prompt_left.text(this.$prompt_left.text().slice(1)):this.$prompt_right.text(this.$prompt_right.text().slice(1)),d.push(a=a.slice(1))}return d},p.prototype._InsertNewLine=function(b){var c,d,e;return b==null&&(b=!1),e=this._SelectPromptLabel(!this.$prompt_before.is(m)),c=a(n).appendTo(this.$prompt_before),c.append(a(n).text(e)),c.append(a(n).text(this.$prompt_left.text())),this.$prompt_label.text(this._SelectPromptLabel(!0)),b&&(d=this.$prompt_left.text().match(/^\s+/))?this.$prompt_left.text(d[0]):this.$prompt_left.text(""),this._ScrollToEnd()},p.prototype._AppendPromptText=function(a){var b,c,d,e,f,g;c=a.split(C),this.$prompt_left.text(this.$prompt_left.text()+c[0]),f=c.slice(1),g=[];for(d=0,e=f.length;d<e;d++)b=f[d],this._InsertNewLine(),g.push(this.$prompt_left.text(b));return g},p.prototype._ScrollUp=function(){var a;return a=this.$console[0].scrollTop-this.$console.height(),this.$console.stop().animate({scrollTop:a},"fast")},p.prototype._ScrollDown=function(){var a;return a=this.$console[0].scrollTop+this.$console.height(),this.$console.stop().animate({scrollTop:a},"fast")},p.prototype._ScrollToEnd=function(){var a,b,c,d,e,f,g;b=this.$prompt_cursor.height(),g=this.$window.scrollTop(),f=this.$window.scrollLeft(),a=document.documentElement.clientHeight,d=this.$prompt_cursor.offset(),e=this.$prompt_cursor.position(),this.$console.scrollTop(this.$console[0].scrollHeight),this.$input_container.css({left:e.left,top:e.top}),c=d.top-2*b;if(this.isMobile&&typeof orientation!="undefined"&&orientation!==null){if(g<d.top||g>d.top)return this.$window.scrollTop(c)}else if(g+a<d.top||g>c)return this.$window.scrollTop(c)},p.prototype._SelectPromptLabel=function(a){return this.state===F?a?this.prompt_label_continue:this.prompt_label_main:a?"\n ":" "},p.prototype._outerHTML=function(b){return document.body.outerHTML?b.get(0).outerHTML:a(l).append(b.eq(0).clone()).html()},p.prototype._Wrap=function(a,b,c){var d,e;return e=a.html(),d=e.slice(0,b)+G(c,e[b])+e.slice(b+1),a.html(d)},p.prototype._WalkCharacters=function(a,b,c,d,e){var f,g,h;g=e?a.length:0,a=a.split(""),h=function(){var b,c,d,f;return e?(d=a,a=2<=d.length?I.call(d,0,c=d.length-1):(c=0,[]),b=d[c++]):(f=a,b=f[0],a=2<=f.length?I.call(f,1):[]),b&&(g=g+(e?-1:1)),b};while(f=h()){f===b?d++:f===c&&d--;if(d===0)return{index:g,current_count:d}}return{index:-1,current_count:d}},p.prototype._ProcessMatch=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=this;return n=c?[b.closing_char,b.opening_char]:[b.opening_char,b.closing_char],h=n[0],l=n[1],o=this._GetDirectionals(c),g=o.$prompt_which,f=o.$prompt_relative,i=1,j=!1,m=g.html(),c||(m=m.slice(1)),d&&c&&(m=m.slice(0,-1)),p=this._WalkCharacters(m,h,l,i,c),k=p.index,i=p.current_count,k>-1?(this._Wrap(g,k,b.cls),j=!0):(e=f.children(),e=c?Array.prototype.reverse.call(e):e,e.each(function(d,e){var f,g;f=a(e).children().last(),m=f.html(),g=q._WalkCharacters(m,h,l,i,c),k=g.index,i=g.current_count;if(k>-1)return c||k--,q._Wrap(f,k,b.cls),j=!0,!1})),j},p.prototype._CheckMatchings=function(b){var c,d,e,f,g,h,i;e=b?this.$prompt_left.text().slice(this.$prompt_left.text().length-1):this.$prompt_right.text()[0],i=this.matchings.clss;for(g=0,h=i.length;g<h;g++)c=i[g],a("."+c,this.$console).contents().unwrap();(d=this.matchings.closings[e])?f=this._ProcessMatch(d,!0,b):(d=this.matchings.openings[e])?f=this._ProcessMatch(d,!1,b):b||this._CheckMatchings(!0);if(b){if(f)return this._Wrap(this.$prompt_left,this.$prompt_left.html().length-1,d.cls)}else if(f)return this._Wrap(this.$prompt_right,0,d.cls)},p.prototype._HistoryPrevious=function(){if(!this.history_active)return;if(this.history_index<=0)return;return this.history_index===this.history.length&&(this.history_new=this.GetPromptText()),this.SetPromptText(this.history[--this.history_index])},p.prototype._HistoryNext=function(){if(!this.history_active)return;if(this.history_index>=this.history.length)return;return this.history_index===this.history.length-1?(this.history_index++,this.SetPromptText(this.history_new)):this.SetPromptText(this.history[++this.history_index])},p.prototype._CheckComposition=function(b){var c;c=b.keyCode||b.which,a.browser.opera!=null&&this.in_composition&&this._UpdateComposition();if(c===229)return this.in_composition?this._UpdateComposition():this._StartComposition()},p.prototype._StartComposition=function(){return this.$input_source.bind(o,this._EndComposition),this.in_composition=!0,this._ShowComposition(),setTimeout(this._UpdateComposition,0)},p.prototype._EndComposition=function(){return this.$input_source.unbind(o,this._EndComposition),this.in_composition=!1,this._HideComposition(),this.$input_source.val("")},p.prototype._UpdateComposition=function(a){var b,c=this;return b=function(){if(!c.in_composition)return;return c.$composition.text(c.$input_source.val())},setTimeout(b,0)},p.prototype._ShowComposition=function(){return this.$composition.css("height",this.$prompt_cursor.height()),this.$composition.empty(),this.$composition.appendTo(this.$prompt_left)},p.prototype._HideComposition=function(){return this.$composition.detach()},p}(),a.fn.jqconsole=function(a,b,c){return new p(this,a,b,c)}}).call(this)